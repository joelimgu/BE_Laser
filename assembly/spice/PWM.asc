Version 4
SHEET 1 1084 820
WIRE 208 16 96 16
WIRE 784 16 208 16
WIRE 944 16 864 16
WIRE 1008 16 944 16
WIRE -368 80 -512 80
WIRE 96 96 96 16
WIRE 944 144 944 16
WIRE -512 176 -512 80
WIRE 96 224 96 176
WIRE 944 256 944 208
WIRE -512 304 -512 256
WIRE 96 384 -48 384
WIRE -48 480 -48 384
WIRE -48 608 -48 560
FLAG -512 304 0
FLAG -368 80 Compteur
FLAG 944 256 0
FLAG 1008 16 Filtre
FLAG -48 608 0
FLAG 96 384 CompValue
FLAG 208 16 PWM
FLAG 96 224 0
SYMBOL voltage -512 160 R0
WINDOW 3 -372 78 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 3.3 0 5u 0 0 5u)
SYMATTR InstName V1
SYMBOL cap 928 144 R0
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL res 880 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 3.9k
SYMBOL voltage -48 464 R0
WINDOW 3 49 61 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(1.65 1 2k)
SYMATTR InstName V2
SYMBOL bv 96 80 R0
SYMATTR InstName B1
SYMATTR Value V=if(V(CompValue)>V(Compteur),3.3,0)
TEXT 272 256 Left 2 !;ac dec 100 1 10meg
TEXT 272 296 Left 2 !.tran 0 1.5m 0 0.01u
TEXT -880 40 Left 2 ;Compteur de l'unité Timer
TEXT -96 -24 Left 2 ;Partie PWM de l'unité Timer
TEXT -904 -56 Left 4 ;TIMER3
TEXT 688 80 Left 4 ;PB0
TEXT 480 0 Left 2 ;Chanel 3
TEXT 384 -168 Left 5 ;STM32F103
LINE Normal 688 48 752 -16
LINE Normal 688 -16 688 48
LINE Normal 752 48 688 -16
LINE Normal 752 48 752 48
LINE Normal 720 -208 720 -16
LINE Normal 256 -208 720 -208
LINE Normal 720 784 720 48
LINE Normal 720 784 720 784
LINE Normal 720 816 720 784
RECTANGLE Normal -192 352 -912 16 2
RECTANGLE Normal 592 656 -128 -48 2
RECTANGLE Normal 640 736 -976 -96
RECTANGLE Normal 752 48 688 -16
